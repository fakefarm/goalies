(function(){this.app=angular.module("goals"),this.app.controller("goalController",["$scope","goalModel",function(n,t){var e;return e=function(){return t.index().then(function(t){return n.goals=t.data})},n["new"]=function(e){return t.postGoal(e).then(function(){return n.goals.push(e),n.goal=""})},n.update=function(n){return t.update(n)},n.destroy=function(n){return t.destroy(n).then(function(){return n["delete"]=!0})},e()}]),this.app.controller("taskController",["$scope","taskModel","goalModel","$filter",function(n,t,e){var r,o;return e.index().then(function(t){var e;return n.goals=t.data,e={0:"align"},_.each(n.goals,function(n){return e[n.id]=n.name}),n.align=function(n){return n.goal_id?e[n.goal_id]:"align"}}),o=function(){return t.index().then(function(t){var e;return e=t.data,n.tasks=_.filter(e,function(n){return n.completed===!1?n:void 0})})},r=function(){return t.index().then(function(t){var e;return e=t.data,n.completedTasks=_.filter(e,function(n){return n.completed===!0?n:void 0})})},n["new"]=function(e){return n.tasks.push(e),n.task="",t.postTask(e).then(function(){return e.snooze=new Date})},n.update=function(n){return t.update(n)},n.snooze=function(n){return t.update(n)},n.complete=function(n){return n.completed=!0,t.update(n)},n.destroy=function(n){return t.destroy(n).then(function(){return n["delete"]=!0})},o(),r()}])}).call(this);