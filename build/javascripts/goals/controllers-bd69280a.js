(function(){this.app=angular.module("goals"),this.app.controller("goalController",["$scope","goalModel","$routeParams",function(n,t,o){var r,e;r=function(){return t.index().then(function(t){return n.goals=t.data,e()})},e=function(){return n.goal=_.find(n.goals,function(n){return n.id===parseInt(o.id,10)})},n["new"]=function(o){return o.id=o.id,t.postGoal(o).then(function(){return n.goals.push(o),n.goal=""})},n.update=function(n){return t.update(n)},n.destroy=function(n){return t.destroy(n).then(function(){return n["delete"]=!0})},r()}])}).call(this);